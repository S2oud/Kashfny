(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{556:(e,r,t)=>{Promise.resolve().then(t.bind(t,2871))},6046:(e,r,t)=>{"use strict";var s=t(6658);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},2871:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(5155),a=t(2115),n=t(6046),l=t(8715),i=t(973),o=t(6911),d=t(17);function c(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)(!1),{initializeGame:c}=(0,d.v)(),[m,u]=(0,a.useState)("50000"),[x,h]=(0,a.useState)("5000"),[p,g]=(0,a.useState)(""),[b,f]=(0,a.useState)([]),[y,v]=(0,a.useState)(""),[N,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t(!0)},[]);let w=e=>{let r=[...b];r.splice(e,1),f(r)};return r?(0,s.jsx)("main",{className:"flex min-h-screen flex-col p-4 md:p-8",children:(0,s.jsxs)(i.A,{children:[(0,s.jsx)(l.A,{title:"إعداد اللعبة",showBackButton:!0,backUrl:"/"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"initialAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"المبلغ الابتدائي لكل لاعب"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)("button",{onClick:()=>{u(String(Math.max(0,(Number(m)||0)-(Number(x)||5e3))))},className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm text-lg font-medium bg-gray-100 hover:bg-gray-200",children:"-"}),(0,s.jsx)("input",{type:"number",id:"initialAmount",value:m,onChange:e=>u(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary text-center",min:"0"}),(0,s.jsx)("button",{onClick:()=>{u(String((Number(m)||0)+(Number(x)||5e3)))},className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm text-lg font-medium bg-gray-100 hover:bg-gray-200",children:"+"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>j(!N),className:"text-sm text-primary hover:underline flex items-center",children:[N?"إخفاء إعدادات الزيادة/النقص":"إعدادات الزيادة/النقص",(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1 transition-transform ".concat(N?"rotate-180":""),children:(0,s.jsx)("path",{d:"m6 9 6 6 6-6"})})]}),N&&(0,s.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:[(0,s.jsx)("label",{htmlFor:"incrementAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"قيمة الزيادة/النقص"}),(0,s.jsx)("input",{type:"number",id:"incrementAmount",value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",min:"1"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"إضافة لاعب"}),(0,s.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,s.jsx)("input",{type:"text",id:"playerName",value:p,onChange:e=>g(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"اسم اللاعب"}),(0,s.jsx)(o.A,{onClick:()=>{if(!p.trim()){v("الرجاء إدخال اسم اللاعب");return}f([...b,p.trim()]),g(""),v("")},variant:"primary",children:"إضافة"})]})]}),y&&(0,s.jsx)("div",{className:"text-red-500 text-sm",children:y}),b.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"اللاعبون:"}),(0,s.jsx)("ul",{className:"bg-gray-50 rounded-md p-2",children:b.map((e,r)=>(0,s.jsxs)("li",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-0",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("button",{onClick:()=>w(r),className:"text-red-500 hover:text-red-700",children:"حذف"})]},r))})]}),(0,s.jsxs)("div",{className:"pt-4 flex space-x-3 space-x-reverse",children:[(0,s.jsx)(o.A,{href:"/",variant:"secondary",className:"flex-1",children:"رجوع"}),(0,s.jsx)(o.A,{onClick:()=>{if(!m||isNaN(Number(m))||0>=Number(m)){v("الرجاء إدخال مبلغ صحيح");return}if(b.length<2){v("يجب إضافة لاعبين على الأقل");return}localStorage.setItem("incrementAmount",x),c(Number(m),b),e.push("/game")},variant:"primary",className:"flex-1",disabled:b.length<2||!m,children:"بدء اللعبة"})]})]})]})}):null}},6911:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155),a=t(8173),n=t.n(a);function l(e){let{children:r,href:t,variant:a="primary",size:l="default",fullWidth:i=!1,className:o,...d}=e,c="".concat("primary"===a?"button-primary":"secondary"===a?"button-secondary":"destructive"===a||"danger"===a?"bg-red-500 text-white":"outline"===a?"border border-gray-300 bg-transparent":"bg-transparent"," ").concat("sm"===l?"text-sm py-1 px-3":"lg"===l?"text-lg py-3 px-6":"py-2 px-4"," ").concat(i?"w-full":""," ").concat(o||"");return t?(0,s.jsx)(n(),{href:t,className:c,children:r}):(0,s.jsx)("button",{className:c,...d,children:r})}},973:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(5155);function a(e){let{children:r,className:t=""}=e;return(0,s.jsx)("div",{className:"w-full max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl ".concat(t),children:(0,s.jsx)("div",{className:"p-6",children:r})})}t(2115)},8715:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155);t(2115);var a=t(8173),n=t.n(a);function l(e){let{title:r,subtitle:t,showBackButton:a=!1,backUrl:l="/"}=e;return(0,s.jsxs)("div",{className:"text-center mb-6 relative",children:[a&&(0,s.jsx)(n(),{href:l,className:"absolute right-0 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("path",{d:"m9 18 6-6-6-6"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-primary",children:r}),t&&(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:t})]})}},17:(e,r,t)=>{"use strict";t.d(r,{v:()=>a});var s=t(2115);function a(){let[e,r]=(0,s.useState)(null),[t,a]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("gameData");if(e)try{r(JSON.parse(e))}catch(e){console.error("Error parsing game data:",e),r(null)}a(!1)},[]);let n=e=>{localStorage.setItem("gameData",JSON.stringify(e)),r(e)};return{gameData:e,isLoading:t,initializeGame:(e,t)=>{localStorage.removeItem("gameData");let s={initialAmount:e,players:t.map(r=>({name:r,score:e})),rounds:[],startDate:new Date().toISOString()};return localStorage.setItem("gameData",JSON.stringify(s)),r(s),s},addRound:r=>{if(!e)return null;let t={id:e.rounds.length+1,scores:r},s=e.players.map((e,t)=>{var s;let a=(null===(s=r.find(e=>e.playerId===t))||void 0===s?void 0:s.points)||0;return{...e,score:e.score+a}}),a={...e,players:s,rounds:[...e.rounds,t]};return n(a),a},resetGame:()=>{if(!e)return null;let r={...e,players:e.players.map(r=>({...r,score:e.initialAmount})),rounds:[]};return n(r),r},endGame:()=>{localStorage.removeItem("gameData"),r(null)}}}}},e=>{var r=r=>e(e.s=r);e.O(0,[173,441,517,358],()=>r(556)),_N_E=e.O()}]);