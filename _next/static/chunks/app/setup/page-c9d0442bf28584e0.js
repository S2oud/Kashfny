(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{556:(e,t,r)=>{Promise.resolve().then(r.bind(r,2871))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},2871:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),n=r(6046),l=r(8715),i=r(973),c=r(6911),o=r(17);function u(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(!1),{initializeGame:u}=(0,o.v)(),[m,d]=(0,s.useState)("50000"),[x,h]=(0,s.useState)("5000"),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)([]),[v,N]=(0,s.useState)(""),[j,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r(!0)},[]);let k=e=>{let t=[...b];t.splice(e,1),f(t)};return t?(0,a.jsx)("main",{className:"page-container",children:(0,a.jsxs)(i.A,{className:"card",children:[(0,a.jsx)(l.A,{title:"إعداد اللعبة",showBackButton:!0,backUrl:"/"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"initialAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"المبلغ الابتدائي لكل لاعب"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("button",{onClick:()=>{d(String(Math.max(0,(Number(m)||0)-(Number(x)||5e3))))},className:"increment-button",children:"-"}),(0,a.jsx)("input",{type:"number",id:"initialAmount",value:m,onChange:e=>d(e.target.value),className:"input-field input-number flex-1",min:"0"}),(0,a.jsx)("button",{onClick:()=>{d(String((Number(m)||0)+(Number(x)||5e3)))},className:"increment-button",children:"+"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>y(!j),className:"text-sm text-blue-600 hover:underline flex items-center",children:[j?"إخفاء إعدادات الزيادة/النقص":"إعدادات الزيادة/النقص",(0,a.jsx)("svg",{className:"mr-1 transition-transform ".concat(j?"rotate-180":""),width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})]}),j&&(0,a.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,a.jsx)("label",{htmlFor:"incrementAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"قيمة الزيادة/النقص"}),(0,a.jsx)("input",{type:"number",id:"incrementAmount",value:x,onChange:e=>h(e.target.value),className:"input-field",min:"1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"إضافة لاعب"}),(0,a.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,a.jsx)("input",{type:"text",id:"playerName",value:p,onChange:e=>g(e.target.value),className:"input-field flex-1",placeholder:"اسم اللاعب"}),(0,a.jsx)(c.A,{onClick:()=>{if(!p.trim()){N("الرجاء إدخال اسم اللاعب");return}f([...b,p.trim()]),g(""),N("")},variant:"primary",children:"إضافة"})]})]}),v&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:v}),b.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"اللاعبون:"}),(0,a.jsx)("ul",{className:"bg-gray-50 rounded-md p-2 border border-gray-200 space-y-2",children:b.map((e,t)=>(0,a.jsxs)("li",{className:"flex justify-between items-center py-1 border-b last:border-0 border-gray-100",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("button",{onClick:()=>k(t),className:"text-red-500 hover:text-red-700 text-sm",children:"حذف"})]},t))})]}),(0,a.jsxs)("div",{className:"pt-4 flex space-x-3 space-x-reverse",children:[(0,a.jsx)(c.A,{href:"/",variant:"secondary",className:"flex-1",children:"رجوع"}),(0,a.jsx)(c.A,{onClick:()=>{if(!m||isNaN(Number(m))||0>=Number(m)){N("الرجاء إدخال مبلغ صحيح");return}if(b.length<2){N("يجب إضافة لاعبين على الأقل");return}localStorage.setItem("incrementAmount",x),u(Number(m),b),e.push("/game")},variant:"primary",className:"flex-1",disabled:b.length<2||!m,children:"بدء اللعبة"})]})]})]})}):null}},6911:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155),s=r(8173),n=r.n(s),l=r(1567);function i(e){let{children:t,href:r,variant:s="primary",size:i="default",fullWidth:c=!1,className:o,...u}=e,m=(0,l.cn)("primary"===s&&"btn-primary","secondary"===s&&"btn-secondary","outline"===s&&"btn-outline",("destructive"===s||"danger"===s)&&"btn-danger","ghost"===s&&"bg-transparent text-gray-600 hover:bg-gray-100"),d=(0,l.cn)("sm"===i&&"text-sm py-1 px-3","lg"===i&&"text-lg py-3 px-6","default"===i&&"py-2 px-4"),x=(0,l.cn)(m,d,c?"w-full":"","rounded-md font-bold text-center inline-block",o);return r?(0,a.jsx)(n(),{href:r,className:x,children:t}):(0,a.jsx)("button",{className:x,...u,children:t})}},973:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155);r(2115);var s=r(1567);function n(e){let{children:t,className:r=""}=e;return(0,a.jsx)("div",{className:(0,s.cn)("card w-full max-w-md mx-auto md:max-w-2xl",r),children:t})}},8715:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155);r(2115);var s=r(8173),n=r.n(s);function l(e){let{title:t,subtitle:r,showBackButton:s=!1,backUrl:l="/"}=e;return(0,a.jsxs)("div",{className:"page-header",children:[s&&(0,a.jsx)(n(),{href:l,className:"back-button","aria-label":"رجوع",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m9 18 6-6-6-6"})})}),(0,a.jsx)("h1",{children:t}),r&&(0,a.jsx)("p",{children:r})]})}},17:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var a=r(2115);function s(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("gameData");if(e)try{t(JSON.parse(e))}catch(e){console.error("Error parsing game data:",e),t(null)}s(!1)},[]);let n=e=>{localStorage.setItem("gameData",JSON.stringify(e)),t(e)};return{gameData:e,isLoading:r,initializeGame:(e,r)=>{localStorage.removeItem("gameData");let a={initialAmount:e,players:r.map(t=>({name:t,score:e})),rounds:[],startDate:new Date().toISOString()};return localStorage.setItem("gameData",JSON.stringify(a)),t(a),a},addRound:t=>{if(!e)return null;let r={id:e.rounds.length+1,scores:t},a=e.players.map((e,r)=>{var a;let s=(null===(a=t.find(e=>e.playerId===r))||void 0===a?void 0:a.points)||0;return{...e,score:e.score+s}}),s={...e,players:a,rounds:[...e.rounds,r]};return n(s),s},resetGame:()=>{if(!e)return null;let t={...e,players:e.players.map(t=>({...t,score:e.initialAmount})),rounds:[]};return n(t),t},endGame:()=>{localStorage.removeItem("gameData"),t(null)}}}},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(3463),s=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[193,441,517,358],()=>t(556)),_N_E=e.O()}]);